<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Atmospheric_ions: VANDLE Ionization Chamber</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Atmospheric_ions
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">VANDLE Ionization Chamber </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>GEANT4 Simulation for an ionization chamber to be used with (d, n) reactions using VANDLE (Versatile Array of Neutron Detectors at Low Energy). The current configuration includes grids for energy loss in a gas and a scintillator to be used for timing and energy.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Getting Started</h1>
<p>These instructions will get you a copy of the project up and running on your machine.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Prerequisites</h2>
<p>Required Packages:</p>
<div class="fragment"><div class="line">GEANT4</div>
<div class="line">ROOT</div>
<div class="line">GSL</div>
<div class="line">CMake</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3"></a>
Build and Run</h2>
<p>To build and run the simulation with the above packages installed, create and move to a build directory</p>
<div class="fragment"><div class="line">mkdir build &amp;&amp; cd build</div>
</div><!-- fragment --><p>Use CMake to then build and make the simulation executable</p>
<div class="fragment"><div class="line">cmake .. &amp;&amp; make</div>
</div><!-- fragment --><p>To run the simulation, use the created executable with a configuration file (a sample is provided)</p>
<div class="fragment"><div class="line">./mmSim config.json -t N</div>
</div><!-- fragment --><p> where N is the number of threads to run for multi-threading.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Configuration Files</h2>
<p>There are two configuration files provided needed to run the simulation: run.mac and config.json.</p>
<h3><a class="anchor" id="autotoc_md5"></a>
run.mac</h3>
<p>The current example run.mac file looks like this: </p><div class="fragment"><div class="line">/run/printProgress 1000</div>
<div class="line">/run/beamOn 50000</div>
</div><!-- fragment --><p>This will run 50,000 events and print the progress every 1,000 events.</p>
<h3><a class="anchor" id="autotoc_md6"></a>
config.json</h3>
<p>The config.json is the main file you will be editing. You can change some (not all) of the geometry, gas, reaction products and resolution parameters.</p>
<p>The current example config.json file looks like this: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;interactive&quot;         : false,</div>
<div class="line">  &quot;macroName&quot;           : &quot;run.mac&quot;,</div>
<div class="line">  &quot;gasType&quot;             : &quot;P10&quot;,</div>
<div class="line">  &quot;gasTemperature&quot;      : 293.15,</div>
<div class="line">  &quot;gasPressure&quot;         : 40,</div>
<div class="line">  &quot;numberGrids&quot;         : 4,</div>
<div class="line">  &quot;gridSize&quot;            : 20,</div>
<div class="line">  &quot;gridRadius&quot;          : 70,</div>
<div class="line">  &quot;gridDistance&quot;        : 70,</div>
<div class="line">  &quot;scintDistance&quot;       : 140,</div>
<div class="line">  &quot;wireThickness&quot;       : 0.02,</div>
<div class="line">  &quot;useInches&quot;           : false,</div>
<div class="line">  &quot;scintResolution&quot;     : 0.1,</div>
<div class="line">  &quot;extraGridResolution&quot; : 0.1</div>
</div><!-- fragment --><p>An explanation of each configuration parameter is described below:</p>
<ul>
<li>"interactive": When this is set to true, it will load up a GUI to visualize the detector setup and geometry. This can be only set to true or false.</li>
<li>"macroName": This is macro file to run automatically when "interactive" is false. It's parameters are described above.</li>
<li>"gasType": This is the name of the gas to use in the ionization chamber. Currently there are four gases to choose from: “P10” (Argon 90% CH4 10%), “CH4”, “CO2” and “CF4”. Other gases can be added by editing the <a class="el" href="classMMDetectorConstruction.html">MMDetectorConstruction</a> files.</li>
<li>"gasTemperature": This is temperature of the above gas in Kelvin.</li>
<li>"gasPressure": This is the pressure of the above gas in Torr.</li>
<li>"numberGrids": This is the total number of cathode-anode-cathode grids to use in the setup.</li>
<li>"gridSize": This is the total distance from cathode to cathode. Cathode to anode distance is half of this value. This can be in mm or inches and a parameter below will describe this.</li>
<li>"gridRadius": This is the radius of the grids assuming they are circular. This can be in mm or inches and a parameter below will describe this.</li>
<li>"gridDistance": This is the distance from the window (entrance of the ionization chamber) to the middle of the IC grids. This can be in mm or inches and a parameter below ("useInches") will describe this.</li>
<li>"scintDistance": This is the distance from the window (entrance of the ionization chamber) to the scintillator. This can be in mm or inches and a parameter below ("useInches") will describe this.</li>
<li>"useInches": When this is set to true, "gridDistance", "gridRadius" and "distanceScint" will be in inches. When it is false, they will be in mm.</li>
<li>"scintResolution": This is the resolution of the scintillator resolution (1 is 100%).</li>
<li>"extraGridResolution": Just using the fanoFactor will still under estimate the errors of the energy in the grids. This is an extra resolution on top of that (1 is 100%).</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
Output Files</h2>
<p>Currently, the GEANT4 simulation is not available to be run with multi-threading. So as of right now, there will but one output file called "sim.root". In this file, there will be up to two TTrees depending on the "writeAllEvents" flag. The TTrees are: </p><div class="fragment"><div class="line">simData</div>
</div><!-- fragment --><p> The simData Tree has the following branches: </p><div class="fragment"><div class="line">gridEnergy_count</div>
<div class="line">gridEnergy [vector]</div>
<div class="line">gridID_count</div>
<div class="line">gridID [vector]</div>
<div class="line">scintXPosition_count </div>
<div class="line">scintXPosition [vector]</div>
<div class="line">scintYPosition_count</div>
<div class="line">scintYPosition [vector]</div>
<div class="line">scintEnergy_count</div>
<div class="line">scintEnergy [vector]</div>
<div class="line">scintTrackID_count</div>
<div class="line">scintTrackID [vector]</div>
<div class="line">scintMass_count</div>
<div class="line">scintMass [vector]</div>
<div class="line">scintCharge_count</div>
<div class="line">scintCharge</div>
<div class="line">beamEnergy</div>
<div class="line">beamCharge</div>
<div class="line">beamMass</div>
<div class="line">energy</div>
<div class="line">cmEnergy</div>
<div class="line">vertex</div>
<div class="line">qValue</div>
<div class="line">excitedEnergy</div>
<div class="line">lightAngleCM</div>
<div class="line">lightAngleLab</div>
<div class="line">lightEnergy</div>
<div class="line">heavyAngleCM</div>
<div class="line">heavyAngleLab</div>
<div class="line">heavyEnergy</div>
<div class="line">lightRecoilCharge</div>
<div class="line">lightRecoilMass</div>
<div class="line">heavyRecoilCharge</div>
<div class="line">heavyRecoilMass</div>
</div><!-- fragment --><ul>
<li>"gridEnergy": This is a vector and its length is determined by the "numberGrids" parameter in the config.json file. This is the energy deposited (with resolution) in each individual grid.</li>
<li>"gridID": This is a vector and its length is determined by the "numberGrids" parameter in the config.json file. This is the id of each individual grid.</li>
<li>"scintXPosition": This is a vector. The x-position of the particle(s) in the scintillator.</li>
<li>"scintYPosition": This is a vector. The y-position of the particle(s) in the scintillator.</li>
<li>"scintEnergy": This is a vector. The energy measured of the particle(s) in the scintillator (with resolution).</li>
<li>"scintTrackID": This is a vector. The Track IDs of the particle(s) in the scintillator. 1 is the original beam, higher are reaction products.</li>
<li>"scintMass": This is a vector. The mass of the particle(s) depositing energy in the scintillator.</li>
<li>"scintCharge": This is a vector. The charge of the particle(s) depositing energy in the scintillator.</li>
<li>"beamEnergy": The energy of the incoming beam.</li>
<li>"beamCharge": The charge of the incoming beam.</li>
<li>"beamMass": The mass of the incoming beam.</li>
<li>"energy": The energy of the beam at the reaction point.</li>
<li>"cmEnergy": The center of mass energy at the reaction point.</li>
<li>"vertex": The vertex at the reaction point.</li>
<li>"qValue": The q-value of the reaction.</li>
<li>"excitedEnergy": The excited energy of the recoil from the reaction.</li>
</ul>
<p>The light and heavy refer to the recoil products. This is mainly used to check the kinematics of the reaction.</p>
<h3><a class="anchor" id="autotoc_md8"></a>
Example Plots</h3>
<p>Here are some example plots from the current settings. The run.mac and config.json used to generate these plots are located in examplePlots/.</p>
<p>The current beam settings are a 7Be secondary beam with contaminants of 7Li, 6Li and 4He. It is setup to do 7Be(d, n)8B. Below, the light and heavy recoils are the neutrons and 8B respectively.</p>
<p>Total Grid Energy vs Scintillator Energy: <img src="https://github.com/joshhooker/icSimulation/blob/master/examplePlots/icTotalEnergy_ScintE.png" alt="ICTotalE_ScintE" class="inline"/></p>
<p>Light Recoil Energy vs Light Recoil Angle (for reaction products only): <img src="https://github.com/joshhooker/icSimulation/blob/master/examplePlots/lightEnergy_lightAngle.png" alt="lightEnergyLab_lightAngleLab" class="inline"/></p>
<p>Heavy Recoil Energy vs Heavy Recoil Angle (for reaction products only): <img src="https://github.com/joshhooker/icSimulation/blob/master/examplePlots/heavyEnergy_heavyAngle.png" alt="heavyEnergyLab_heavyAngleLab" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
